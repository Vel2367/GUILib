local Lib = {}

if game.CoreGui:FindFirstChild("ScriptGui") then
    game.CoreGui:FindFirstChild("ScriptGui"):Destroy()
end
if _G.HideKeybind == nil then _G.HideKeybind = Enum.KeyCode.P end

local ScriptGui = Instance.new("ScreenGui", game.CoreGui)
ScriptGui.Name = "ScriptGui"


local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local visible, Usable = true, true



function Lib:Window(Name)
    local Window = {}

    local Main = Instance.new("ImageLabel", ScriptGui)
    local MainUICorner = Instance.new("UICorner", Main)

    Main.Size = UDim2.new(0,450,0,550)
    Main.Position = UDim2.new(0.5,0,0.3,0)
    Main.Active = true
    MainUICorner.CornerRadius = UDim.new(0,20)


    function Drag(Frame)
        local dragging = false
        local startPos, startMousePos

        Frame.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                startMousePos, startPos = input.Position, Frame.Position
            end
        end)

        Frame.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = false
            end
        end)

        UIS.InputChanged:Connect(function(input)
            if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                local delta = input.Position - startMousePos
                Frame.Position = UDim2.new(
                    startPos.X.Scale, startPos.X.Offset + delta.X,
                    startPos.Y.Scale, startPos.Y.Offset + delta.Y
                )
            end
        end)
    end
    Drag(Main)
    

    return Window
end

return Lib
