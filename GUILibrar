local Lib = {}

local player = game.Players.LocalPlayer
local Uis = game:GetService("UserInputService")
local TS = game:GetService("TweenService")
local Mouse = player:GetMouse()
local MarketplaceService = game:GetService("MarketplaceService")
local Minimized, MinimizeUsable, visible, Usable = false, true, true, true
if _G.HideKeybind == nil then _G.HideKeybind = Enum.KeyCode.P end

local function generateRandomName()
    local chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
    local randomName = ""
    for i = 1, 10 do
        randomName = randomName .. chars:sub(math.random(1, #chars), math.random(1, #chars))
    end
    return randomName
end
local randomName = generateRandomName()

if game.CoreGui:FindFirstChild(randomName) then
    game.CoreGui[randomName]:Destroy()
end

local ScriptGui = Instance.new("ScreenGui", game.CoreGui)
ScriptGui.Name = randomName
ScriptGui.ResetOnSpawn = false

Uis.InputBegan:Connect(function(input, gameProcesses)
    if gameProcesses or input.KeyCode ~= _G.HideKeybind or not Usable then return end
    Usable = false
    visible = not visible
    for _, v in pairs(ScriptGui:GetDescendants()) do
        if v:IsA("GuiObject") then
            v.Visible = visible
        end
    end
    Usable = true
end)

function Lib:Window(Name)
    local Window = {}
    
    local Frame = Instance.new("Frame", ScriptGui)
    Frame.Size = UDim2.new(0, 700, 0, 500)
    Frame.Position = UDim2.new(0.5, -350, 0.5, -250)
    Frame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)  -- Updated background color
    Frame.BorderSizePixel = 0  -- Remove border
    Frame.BackgroundTransparency = 0.2
    
    local Title = Instance.new("TextLabel", Frame)
    Title.Size = UDim2.new(1, 0, 0, 50)
    Title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)  -- Darker background for title
    Title.Text = Name
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 24
    
    local Sidebar = Instance.new("Frame", Frame)
    Sidebar.Size = UDim2.new(0, 160, 1, -50)
    Sidebar.Position = UDim2.new(0, 0, 0, 50)
    Sidebar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)  -- Dark sidebar
    Sidebar.BorderSizePixel = 0
    
    local SidebarLayout = Instance.new("UIListLayout", Sidebar)
    SidebarLayout.SortOrder = Enum.SortOrder.LayoutOrder
    SidebarLayout.Padding = UDim.new(0, 5)
    
    local SectionHolder = Instance.new("Frame", Frame)
    SectionHolder.Size = UDim2.new(1, -170, 1, -60)
    SectionHolder.Position = UDim2.new(0, 170, 0, 55)
    SectionHolder.BackgroundColor3 = Color3.fromRGB(50, 50, 50)  -- Lighter section holder
    SectionHolder.BorderSizePixel = 0
    SectionHolder.ClipsDescendants = true
    
    local SectionLayout = Instance.new("UIListLayout", SectionHolder)
    SectionLayout.SortOrder = Enum.SortOrder.LayoutOrder
    SectionLayout.Padding = UDim.new(0, 10)
    
    Window.Frame = Frame
    Window.SectionHolder = SectionHolder
    Window.Sidebar = Sidebar
    Window.Sections = {}
    
    function Window:CreateTab(Name)
        local Tab = {}
        
        local TabButton = Instance.new("TextButton", Sidebar)
        TabButton.Size = UDim2.new(1, -10, 0, 40)
        TabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)  -- Dark button background
        TabButton.Text = Name
        TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabButton.Font = Enum.Font.GothamBold
        TabButton.TextSize = 20
        TabButton.TextTransparency = 0.2  -- Slight transparency for better effect
        
        local TabFrame = Instance.new("Frame", SectionHolder)
        TabFrame.Size = UDim2.new(1, 0, 1, 0)
        TabFrame.BackgroundTransparency = 1
        TabFrame.Visible = false
        
        local TabLayout = Instance.new("UIListLayout", TabFrame)
        TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
        TabLayout.Padding = UDim.new(0, 5)
        
        TabButton.MouseButton1Click:Connect(function()
            for _, sec in pairs(SectionHolder:GetChildren()) do
                if sec:IsA("Frame") then
                    sec.Visible = false
                end
            end
            TabFrame.Visible = true
        end)
        
        Tab.Frame = TabFrame
        Window.Sections[Name] = TabFrame
        
        function Tab:Section(Name)
            local Section = {}
            
            local SectionFrame = Instance.new("Frame", TabFrame)
            SectionFrame.Size = UDim2.new(1, -10, 0, 100)
            SectionFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)  -- Lighter section color
            SectionFrame.BorderSizePixel = 0
            
            local SectionTitle = Instance.new("TextLabel", SectionFrame)
            SectionTitle.Size = UDim2.new(1, 0, 0, 30)
            SectionTitle.BackgroundTransparency = 1
            SectionTitle.Text = Name
            SectionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
            SectionTitle.Font = Enum.Font.GothamBold
            SectionTitle.TextSize = 20
            
            Section.Frame = SectionFrame
            return Section
        end
        
        return Tab
    end
    
    return Window
end

return Lib
